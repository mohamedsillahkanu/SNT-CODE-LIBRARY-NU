<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Library UI</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            background-color: #1e1e2e;
            color: #ffffff;
        }

        .sidebar {
            width: 30%; /* Fixed sidebar width */
            background-color: #28293d;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            position: fixed; /* Sidebar fixed on left */
            height: 100vh;
            z-index: 10; /* Ensure the sidebar stays above the content */
        }

        .sidebar h2 {
            color: #47B5FF;
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li {
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            user-select: none;
            transition: background-color 0.3s ease;
        }

        .sidebar li.active {
            background-color: #47B5FF; /* Highlight color for active item */
            color: #000000; /* Text color when active */
        }

        .sidebar li:hover {
            background-color: #44475a; /* Hover effect */
        }

        .dropdown-content {
            display: none;
            padding-left: 20px;
            background-color: #3a3b52;
            border-radius: 5px;
            margin-top: 5px;
        }

        .sidebar li.open .dropdown-content {
            display: block;
        }

        .content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
            margin-left: 30%; /* Adjust content to leave space for sidebar */
            background-color: #1e1e2e; /* Ensure the content has a consistent background */
            z-index: 1; /* Ensure it is below the sidebar */
        }

        .section-buttons {
            align-self: flex-start;
            margin-bottom: 20px;
            display: none; /* Hide by default */
        }

        .section-buttons button {
            padding: 10px;
            margin-right: 10px;
            background-color: #474761;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .section-buttons button.active {
            background-color: #47B5FF;
            color: #000000;
        }

        .topic-intro {
            background-color: #ffffff;
            color: #000;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .code-section, .image-section {
            background-color: #33334d;
            border-radius: 10px;
            padding: 20px;
            overflow: auto;
        }

        .code-section h3, .image-section h3 {
            margin-top: 0;
        }

        .full-code {
            background-color: #ffffff;
            padding: 10px;
            border-radius: 10px;
            color: #000;
            margin-top: 10px;
        }

        .sample-image {
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid #FF6347;
            border-radius: 10px;
            padding: 10px;
        }

        .sample-image img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Add background image or pattern if needed */
        .content {
            background-color: #2a2a38; /* Dark background for the content */
            z-index: 2; /* Ensure content sits on top of any background */
            position: relative;
        }
    </style>
    <script>
        let currentSection = '';
        let currentLanguage = '';

        // Load content based on the URL hash
        window.onload = function() {
            const currentUrl = window.location.href;

            // Default landing page should be overview without buttons
            if (currentUrl.includes('#overview') || !currentUrl.includes('#')) {
                loadContent('overview');
            } else if (currentUrl.includes('#shapefile-info')) {
                loadContent('shapefile-info');
            } else if (currentUrl.includes('#vector-analysis')) {
                loadContent('vector-analysis');
            } else if (currentUrl.includes('#data-cleaning')) {
                loadContent('data-cleaning');
            }
        };

        // Function to load content based on section
        function loadContent(section) {
            currentSection = section;
            updateContent();
            document.querySelectorAll('.sidebar li').forEach(el => el.classList.remove('active'));
            if (section !== 'overview') {
                document.querySelector(`#${section}-btn`).classList.add('active');
            }
            window.location.hash = section; // Update URL hash when a section is selected
        }

        // Update the content based on selected section
        function updateContent() {
            const topicIntro = document.querySelector('.topic-intro');
            const codeDisplay = document.querySelector('.full-code');
            const sampleImage = document.querySelector('.sample-image img');

            // Display overview content without language selection buttons
            if (currentSection === 'overview') {
                topicIntro.innerHTML = `
                    <h3 class="sidebar-title">Version: 3 October 2024 </h3>
                    <h3 class="sidebar-title">Authors: Mohamed Sillah Kanu, Sammy Oppong, Jaline Gerardin </h3>
                    <h2>Overview</h2>
                    <h3>Motivation</h3>
                    <p>SNT is here to stay: many NMCPs have found it useful and are continuing to embrace it and further develop it for their analytical needs. Since 2019, multiple individuals have supported the analysis portions of SNT. In most cases, individuals have built their own code in a variety of languages (Stata, R, and Python), sometimes building on othersâ€™ previous code and sometimes re-developed independently.</p>
                    <h3>Objectives</h3>
                    <p>We will build a code library for SNT analysis to:</p>
                    <p>1. Improve quality and reproducibility of SNT analysis by ensuring that analysts are using similar, correct approaches.</p>
                    <p>2. Improve efficiency of SNT analysis by minimizing duplication of effort.</p>
                    <p>3. Promote accessibility of SNT analysis by lowering barriers to entry.</p>
                    <h3>Target audience</h3>
                    <p>Anyone doing this kind of work. We assume some basic knowledge of R, some understanding of the data, and a strong connection to the NMCP.</p>
                    <h3>Scope</h3>
                    <p>All analysis steps of SNT up to but not including mathematical modeling; some related analysis.</p>
                `;
                document.querySelector('.code-section').style.display = 'none';
                document.querySelector('.image-section').style.display = 'none';
                document.querySelector('.section-buttons').style.display = 'none';  // Hide language buttons on overview page
                return;
            }

            // Show section buttons for all pages except overview
            document.querySelector('.section-buttons').style.display = 'flex';
            // Define content for other sections
            // Example for shapefile-info
            if (currentSection === 'shapefile-info') {
                topicIntro.innerHTML = `<h3>Shapefile Information</h3><p>Details on Shapefile usage in the code.</p>`;
                codeDisplay.innerHTML = `<h3>Shapefile Info Code</h3><div class="full-code"><pre>var shapefileData = loadShapefile();</pre></div>`;
                sampleImage.src = 'path-to-shapefile-image.png';
                document.querySelector('.image-section').style.display = 'block';
                document.querySelector('.code-section').style.display = 'block';
            }
            // Similarly for other sections
        }
    </script>
</head>
<body>
    <div class="sidebar">
        <h2>Code Library</h2>
        <ul>
            <li id="overview-btn" onclick="loadContent('overview')">Overview</li>
            <li id="shapefile-info-btn" onclick="loadContent('shapefile-info')">Shapefile Info</li>
            <li id="vector-analysis-btn" onclick="loadContent('vector-analysis')">Vector Analysis</li>
            <li id="data-cleaning-btn" onclick="loadContent('data-cleaning')">Data Cleaning</li>
        </ul>
    </div>
    <div class="content">
        <div class="topic-intro"></div>
        <div class="main-content">
            <div class="code-section"></div>
            <div class="image-section">
                <div class="sample-image">
                    <img src="" alt="Sample Image">
                </div>
            </div>
        </div>
    </div>
</body>
</html>
